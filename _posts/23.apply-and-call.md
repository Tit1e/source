---
title: apply和call的区别
date: 2017-03-03 20:01:15
tags: [前端,学习笔记]
---

今天看原生js的时候看到了<code>call</code>和<code>apply</code>,对这两个方法印象不是很清楚，只记得这两个方法很相似，作用大概是让A通过<code>call</code>或<code>apply</code>能够调用B独有的方法，但是具体的使用方法已经模糊，所以网上查了资料重新理了一遍。<br />
先看代码：
``` javascript
    function Createpeople(name, age) {
                this.name = name;
                this.age = age;
            }
    Createpeople.prototype.say = function() {
                console.log('Hello!My name is ' + this.name);
            }

    var Amy = new Createpeople('Amy', 18);
    Amy.say();  //Hello!My name is Amy

    var john = {
        name: 'john',
        age: 20
            }
    john.say();  //john.say is not a function
    Amy.say.call(john);  //Hello!My name is john
    Amy.say.apply(john);  //Hello!My name is john
```

<!-- more -->
<code>Createpeople</code>是一个构造函数，并且在原型中写入了一个<code>say</code>方法。我们用<code>Createpeople</code>创造了<code>Amy</code>对象，所以<code>Amy</code>理所当然地可以调用<code>say</code>方法。而<code>john</code>是我们手动创建的一个对象，所以<code>john</code>调用<code>say</code>方法理所应当会报错。那么如何让<code>john</code>能够调用<code>say</code>方法呢？那就要通过<code>call</code>方法或<code>apply</code>方法了。通过<code>Amy.say.call(john)</code>，从输出结果来看<code>john</code>正确的调用了<code>say</code>方法,<code>apply</code>也同样。

为什么呢？原因就在于<code>call</code>和<code>apply</code>在调用的时候会传入一个调用对象，即<code>this</code>，它们能将原来不指向传入对象的函数的<code>this</code>强行指向传入对象。可能这样说不是很明白，下面我来解释一下：

在其他方法执行的时候会默认传入一个调用对象，比如在<code>Amy</code>调用<code>say</code>方法的时候，默认传入的调用对象为<code>Amy</code>，<code>say</code>方法作为<code>Amy</code>的一部分正常情况下因为正常情况下<code>this</code>只能指向<code>Amy</code>，但是通过<code>call</code>和<code>apply</code>方法能让<code>say</code>方法的<code>this</code>强行指向传入的<code>john</code>，<code>this</code>变成了<code>john</code>，理所当然，<code>say</code>方法就能正常执行了。

#### **那么<code>call</code>和<code>apply</code>有什么区别呢？**
区别在于**参数**的传入方式不同。
举个例子：
``` javascript
    function add(a, b) {
                return console.log(a + b);
            }

    function sub(c, d) {
                return console.log(c - d);
            }

    sub.apply(add, [2, 3]);  //-1
    sub.call(add, 2, 3);  //-1
    add.apply(sub, [1, 2]);  //3
    add.call(sub, 1, 2);  //3
```
<code>call</code>方法参数是一个一个传的，而<code>apply</code>方法，除了<code>this</code>，其他参数是用数组的方式传的。
由于<code>apply</code>传数组这个特点，我们可以很方便地对数组进行某些操作，比如拼接两个数组：
``` javascript
        var list1 = [1, 2, 3];
        var list2 = [4, 5, 6];
        [].push.apply(list1, list2);  //6
        console.log(list1);  //[1, 2, 3, 4, 5, 6]
```
<code>push</code>方法可以传很多参数，但是不能传数组，正常情况下凭借数组只能够通过循环一个一个添加，但是<code>apply</code>正好需要把多个传入的参数打包成数组，所以正好满足了条件。

